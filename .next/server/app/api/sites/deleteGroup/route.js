"use strict";(()=>{var e={};e.id=7887,e.ids=[7887],e.modules={11185:e=>{e.exports=require("mongoose")},524:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},22037:e=>{e.exports=require("os")},70485:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>g,originalPathname:()=>_,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>S});var o={};r.r(o),r.d(o,{POST:()=>POST});var a=r(10884),s=r(16132),i=r(61610),u=r(95798),n=r(43285),p=r(39949);async function POST(e){try{let t=await e.json(),{groupId:r}=t;return console.log("ISSSS",r),await p.Z.updateMany({},{$pull:{assignedGroups:{groupId:r}}}),await n.Z.deleteOne({_id:r}),u.Z.json({message:"Deleted Successfully"})}catch(e){return u.Z.json({error:e.message})}}(0,i.$)();let d=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/sites/deleteGroup/route",pathname:"/api/sites/deleteGroup",filename:"route",bundlePath:"app/api/sites/deleteGroup/route"},resolvedPagePath:"/Users/delta/DMTS/src/app/api/sites/deleteGroup/route.tsx",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:c,serverHooks:m,headerHooks:g,staticGenerationBailout:S}=d,_="/api/sites/deleteGroup/route"},43285:(e,t,r)=>{r.d(t,{Z:()=>u}),r(22037);let{mongoose:o}=r(11185),a=o.Schema,s=new a({groupName:{type:String,required:!0},sites:{type:Array},creationDate:{type:Date,default:Date.now}},{collection:"siteGroupModel"});s.pre("save",function(e){this.creationDate||(this.creationDate=new Date),e()});let i=o.models.siteGroupModel||o.model("siteGroupModel",s),u=i}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[6126,8107,9060],()=>__webpack_exec__(70485));module.exports=r})();