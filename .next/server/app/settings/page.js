(()=>{var e={};e.id=6938,e.ids=[6938],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},17875:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>h,tree:()=>d});var s=r(67096),i=r(16132),n=r(37284),l=r.n(n),a=r(32564),o={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>a[e]);r.d(t,o);let d=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,76637)),"/Users/delta/DMTS/src/app/settings/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,91399)),"/Users/delta/DMTS/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/Users/delta/DMTS/src/app/settings/page.js"],c="/settings/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},65216:(e,t,r)=>{Promise.resolve().then(r.bind(r,50545))},50545:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>page});var s=r(30784),i=r(9885),n=r(7501),l=r(70512),a=r(57114),o=r(2343),d=r(43769),u=r(34802),c=r(63235),p=r(39283),h=r(22091),x=r(5585),g=r(1763),j=r(54997),m=r(3218),y=r(6618),f=r(55445),v=r(34301),S=r(42130),_=r(76713),q=r(32355),b=r(78653),w=r(18326),T=r(47985),P=r(55772),C=r(41600),k=r(91210),A=r(87717),M=r(35419),Q=r(18787),D=r(54826);let getStatusBadge=e=>{switch(e){case"pending":return s.jsx(m.C,{colorScheme:"orange",children:"Pending"});case"resolved":return s.jsx(m.C,{colorScheme:"green",children:"Resolved"});case"hold":return s.jsx(m.C,{colorScheme:"red",children:"Hold"});default:return null}},Components_QueryDisplay=()=>{let[e,t]=(0,i.useState)([]),[r,n]=(0,i.useState)([]),[l,a]=(0,i.useState)("all"),[o,d]=(0,i.useState)(!1),[u,c]=(0,i.useState)(!1),p=(0,y.p)();(0,i.useEffect)(()=>{getAllQueries()},[]),(0,i.useEffect)(()=>{if("all"===l)n(e);else{let t=e.filter(e=>e.queryStatus===l);n(t)}},[e,l]);let getAllQueries=async()=>{c(!0);try{let e=await j.Z.get("/api/setting/getQuery"),r=e.data.message.map(e=>({...e,isModified:!1}));t(r),c(!1)}catch(e){console.error("Error fetching queries:",e),p({title:"Error",description:"An error occurred while fetching queries.",status:"error",position:"top-right",duration:3e3,isClosable:!0})}},handleSelectChange=(r,s)=>{let i=[...e];i[r].queryStatus=s,i[r].isModified=!0,t(i),d(!0)},handleQueryStatusSubmit=async(r,s)=>{try{await j.Z.post("/api/setting/updateQueryStatus",{_id:r,queryStatus:s}),p({title:"Submit Successful",description:`Query status updated successfully for query with ID ${r}`,status:"success",position:"top-right",duration:3e3,isClosable:!0});let i=[...e];i.find(e=>e._id===r).isModified=!1,t(i),d(!1)}catch(e){console.error("Error updating query status:",e),p({title:"Submit Error",description:`An error occurred while updating query status for query with ID ${r}`,status:"error",position:"top-right",duration:3e3,isClosable:!0})}};return(0,s.jsxs)(f.Z,{children:[s.jsx(v.O,{bg:"teal.500",borderBottomWidth:"1px",borderColor:"teal.600",color:"white",textAlign:"center",padding:"4",children:s.jsx(S.X,{size:"md",textTransform:"uppercase",children:"All Queries"})}),(0,s.jsxs)(_.e,{children:[s.jsx(q.k,{justifyContent:"flex-end",children:(0,s.jsxs)(b.P,{w:"200px",value:l,onChange:e=>{a(e.target.value)},mb:4,children:[s.jsx("option",{value:"all",children:"Show All"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"hold",children:"Hold"})]})}),u?s.jsx(D.Z,{}):s.jsx(s.Fragment,{children:(0,s.jsxs)(w.i,{variant:"simple",children:[s.jsx(T.h,{children:(0,s.jsxs)(P.Tr,{children:[s.jsx(C.Th,{children:"No"}),s.jsx(C.Th,{children:"Query Type"}),s.jsx(C.Th,{children:"Description"}),s.jsx(C.Th,{children:"Status"}),s.jsx(C.Th,{children:"Action"})]})}),s.jsx(k.p,{children:r.map((e,t)=>(0,s.jsxs)(P.Tr,{children:[s.jsx(A.Td,{children:t+1}),s.jsx(A.Td,{children:e.queryType}),s.jsx(A.Td,{children:e.queryDescription}),s.jsx(A.Td,{children:getStatusBadge(e.queryStatus)}),s.jsx(A.Td,{children:(0,s.jsxs)(b.P,{value:e.queryStatus,onChange:e=>handleSelectChange(t,e.target.value),children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"hold",children:"Hold"})]})}),(0,s.jsxs)(A.Td,{display:"flex",alignItems:"center",gap:"7px",children:[s.jsx(M.z,{colorScheme:"teal",onClick:()=>handleQueryStatusSubmit(e._id,e.queryStatus),children:"Submit"}),e.isModified&&s.jsx(Q.xu,{bg:"red",h:"7px",w:"7px",borderRadius:"100%"})]})]},e._id))})]})})]})]})},{Header:E,Content:Z,Footer:R,Sider:G}=n.default,page=()=>{(0,a.useRouter)();let[e,t]=(0,i.useState)(1),[r,j]=(0,i.useState)(!1),{token:{colorBgContainer:m}}=l.Z.useToken();return s.jsx(n.default,{style:{minHeight:"100vh",width:"100%",marginTop:"20px"},children:s.jsx(n.default,{children:s.jsx(Z,{children:(0,s.jsxs)(o.m,{isManual:!0,mt:2,ml:.5,variant:"enclosed",children:[(0,s.jsxs)(d.t,{children:[s.jsx(u.O,{_selected:{color:"white",bg:"teal.500"},onClick:()=>t(1),children:"Questionaire"}),s.jsx(u.O,{_selected:{color:"white",bg:"teal.500"},onClick:()=>t(2),children:"Rates"}),s.jsx(u.O,{_selected:{color:"white",bg:"teal.500"},onClick:()=>t(3),children:"Active Site"}),s.jsx(u.O,{_selected:{color:"white",bg:"teal.500"},onClick:()=>t(4),children:"Query"})]}),(0,s.jsxs)(c.n,{children:[s.jsx(p.x,{children:1==e&&s.jsx(h.Z,{})}),s.jsx(p.x,{children:2==e&&s.jsx(g.Z,{})}),s.jsx(p.x,{children:3==e&&s.jsx(x.Z,{})}),s.jsx(p.x,{children:4==e&&s.jsx(Components_QueryDisplay,{})})]})]})})})})}},76637:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>o});var s=r(95153);let i=(0,s.createProxy)(String.raw`/Users/delta/DMTS/src/app/settings/page.js`),{__esModule:n,$$typeof:l}=i,a=i.default,o=a}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[6126,9760,1323,4933,1915,9265,9903,6125,9604,4952],()=>__webpack_exec__(17875));module.exports=r})();