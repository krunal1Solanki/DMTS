"use strict";exports.id=4952,exports.ids=[4952],exports.modules={5585:(e,s,t)=>{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var i=t(30784),n=t(54997),a=t(9885),r=t(6618),l=t(55445),o=t(34301),c=t(42130),d=t(76713),h=t(18326),x=t(47985),u=t(55772),g=t(41600),m=t(91210),j=t(87717),p=t(88668),S=t(35419),v=t(54826);let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,s]=(0,a.useState)([]),[t,y]=(0,a.useState)(!1),T=(0,r.p)();(0,a.useEffect)(()=>{getSites()},[]);let getSites=async()=>{y(!0);let e=await n.Z.get("/api/sites/getAllSites");s(e.data.message),y(!1)},handleCheckboxChange=(t,i)=>{console.log(t,i);let n=[...e];n[t].isDMTSActive=i,console.log("logg",n[t].isDMTSActive),s(n)},handleSiteStatusSubmit=async(e,s)=>{y(!0);try{await n.Z.post("/api/sites/siteStatus",{_id:e,isDMTSActive:s}),T({title:"Submit Successful",description:`Site status updated successfully for site with ID ${e}`,status:"success",position:"top-right",duration:3e3,isClosable:!0})}catch(s){console.error("Error updating site status:",s),T({title:"Submit Error",description:`An error occurred while updating site status for site with ID ${e}`,status:"error",position:"top-right",duration:3e3,isClosable:!0})}finally{y(!1)}};return(0,i.jsxs)(l.Z,{children:[i.jsx(o.O,{bg:"teal.500",borderBottomWidth:"1px",borderColor:"teal.600",color:"white",textAlign:"center",padding:"4",children:i.jsx(c.X,{size:"md",textTransform:"uppercase",children:"Active Sites"})}),i.jsx(d.e,{children:t?i.jsx(v.Z,{}):i.jsx(i.Fragment,{children:(0,i.jsxs)(h.i,{variant:"simple",children:[i.jsx(x.h,{children:(0,i.jsxs)(u.Tr,{children:[i.jsx(g.Th,{children:"No"}),i.jsx(g.Th,{children:"Site Name"}),i.jsx(g.Th,{children:"Is DMTS Active"}),i.jsx(g.Th,{children:"Submit"})]})}),i.jsx(m.p,{children:e.map((e,s)=>(0,i.jsxs)(u.Tr,{children:[i.jsx(j.Td,{children:s+1}),i.jsx(j.Td,{children:e.pumpName}),i.jsx(j.Td,{children:i.jsx(p.X,{defaultChecked:e.isDMTSActive,onChange:e=>handleCheckboxChange(s,e.target.checked)})}),i.jsx(j.Td,{children:i.jsx(S.z,{colorScheme:"teal",onClick:()=>handleSiteStatusSubmit(e._id,e.isDMTSActive),children:"Submit"})})]},e._id))})]})})})]})}},22091:(e,s,t)=>{t.d(s,{Z:()=>Components_Questionnaire});var i=t(30784),n=t(9885),a=t(55445),r=t(34301),l=t(32355),o=t(42130),c=t(51461),d=t(76713),h=t(21365),x=t(37929),u=t(78653),g=t(90490),m=t(11846),j=t(18787),p=t(35419),S=t(12918),v=t(6618),y=t(54997),T=t(49450),b=t(55685),C=t(3218),w=t(4266),f=t(38622),_=t(3901),A=t(78404),N=t(54826);let Components_QuestionnaireDisplay=()=>{let[e,s]=(0,n.useState)([]),[t,a]=(0,n.useState)(""),[r,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[h,x]=(0,n.useState)(!1),[u,g]=(0,n.useState)([]);(0,n.useEffect)(()=>{fetchData()},[t,r,c]);let fetchData=()=>{x(!0);let e=u.filter(e=>e.questionnaireName.toLowerCase().includes(t.toLowerCase())&&(""===r||e.questions.some(e=>e.answerType===r))&&(""===c||e.formType===c));s(e),x(!1)};(0,n.useEffect)(()=>{let fetchOriginalData=async()=>{x(!0);try{let e=await y.Z.get("/api/setting/getQuestionnaire");g(e.data.message),s(e.data.message),x(!1)}catch(e){console.error("Error fetching data:",e)}};fetchOriginalData()},[]);let deleteQuestionnaire=async e=>{try{await y.Z.delete("/api/setting/deleteQuestionnaire",{data:{questionnaireId:e}}),fetchData()}catch(e){console.error("Error deleting questionnaire:",e)}};return(0,i.jsxs)(m.g,{spacing:4,align:"start",p:4,w:"100%",children:[(0,i.jsxs)(T.U,{w:"100%",justify:"space-between",mb:4,children:[(0,i.jsxs)(T.U,{spacing:4,children:[i.jsx(_.W,{color:"gray.300"}),i.jsx("input",{placeholder:"Search by Name",value:t,onChange:e=>a(e.target.value)})]}),(0,i.jsxs)(T.U,{spacing:4,children:[i.jsx(b.x,{children:"Filter by Answer Type:"}),(0,i.jsxs)("select",{value:r,onChange:e=>o(e.target.value),children:[i.jsx("option",{value:"",children:"All"}),i.jsx("option",{value:"rating",children:"Rating"}),i.jsx("option",{value:"yesno",children:"Yes/No"}),i.jsx("option",{value:"text",children:"Text"})]})]}),(0,i.jsxs)(T.U,{spacing:4,children:[i.jsx(b.x,{children:"Filter by Form Type:"}),(0,i.jsxs)("select",{value:c,onChange:e=>d(e.target.value),children:[i.jsx("option",{value:"",children:"All"}),i.jsx("option",{value:"ONM",children:"ONM"}),i.jsx("option",{value:"Survey",children:"Survey"})]})]})]}),h?i.jsx(N.Z,{}):i.jsx(i.Fragment,{children:i.jsx(m.g,{spacing:4,align:"start",w:"100%",children:e.map((e,s)=>(0,i.jsxs)(j.xu,{p:4,borderWidth:"1px",borderRadius:"lg",boxShadow:"lg",w:"100%",children:[i.jsx(b.x,{fontWeight:"bold",fontSize:"xl",children:e.formType||"Untitled Questionnaire"}),i.jsx(S.i,{mt:3}),i.jsx(b.x,{fontWeight:"bold",fontSize:"xl",children:e.questionnaireName||"Untitled Questionnaire"}),(0,i.jsxs)(b.x,{fontSize:"sm",color:"gray.500",children:["Date: ",new Date(e.creationDate).toLocaleDateString()]}),i.jsx(S.i,{my:2}),i.jsx(b.x,{fontWeight:"bold",children:"Questions:"}),i.jsx(m.g,{align:"start",spacing:2,w:"100%",children:e.questions.map((e,s)=>(0,i.jsxs)(l.k,{justify:"space-between",w:"100%",children:[(0,i.jsxs)(b.x,{children:[s+1,". ",e.questionText]}),i.jsx(C.C,{colorScheme:"blue",fontSize:"xs",children:e.answerType})]},e._id))}),i.jsx(S.i,{my:2}),i.jsx(b.x,{fontWeight:"bold",children:"Image:"}),i.jsx(m.g,{align:"start",spacing:2,w:"100%",children:e.images.map((e,s)=>i.jsx(l.k,{justify:"space-between",w:"100%",children:(0,i.jsxs)(b.x,{children:[s+1,". ",e.imageName]})},e._id))}),i.jsx(w.u,{label:"Delete",hasArrow:!0,children:i.jsx(f.h,{icon:i.jsx(A.p,{}),colorScheme:"red",size:"sm",onClick:()=>deleteQuestionnaire(e._id),mt:4})})]},e._id))})})]})},Components_Questionnaire=()=>{let e=(0,v.p)(),[s,t]=(0,n.useState)({questionnaireName:"",questions:[{questionText:"",answerType:"rating"}],images:[{imageName:""}]}),[T,b]=(0,n.useState)(!1),[C,w]=(0,n.useState)(!1),[f,_]=(0,n.useState)("ONM"),handleQuestionChange=(e,i,n)=>{let a=[...s.questions];a[e][i]=n,t({...s,questions:a})},handleImageChange=(e,i,n)=>{let a=[...s.images];a[e][i]=n,t({...s,images:a})},removeQuestion=e=>{let i=[...s.questions];i.splice(e,1),t({...s,questions:i})},addQuestionnaire=async()=>{w(!0);try{s.type=f;let i=await y.Z.post("/api/setting/addQuestionnaire",s),n=i.data;t({questionnaireName:"",questions:[{questionText:"",answerType:"rating"}],images:[]}),e({description:"Questionnaire added successfully",status:"success",position:"top-right",duration:1e4,isClosable:!0}),console.log("Saved Questionnaire:",n),w(!1)}catch(e){console.error("Error adding questionnaire:",e)}},removeImage=e=>{let i=[...s.images];i.splice(e,1),t({...s,images:i})};return(0,i.jsxs)(a.Z,{children:[i.jsx(r.O,{bg:"teal",borderBottomWidth:"1px",borderColor:"teal.600",color:"white",textAlign:"center",padding:"4",children:(0,i.jsxs)(l.k,{align:"center",gap:"20px",children:[i.jsx(o.X,{size:"md",textTransform:"uppercase",children:T?"View Questionnaire":"Add Questionnaire"}),i.jsx(c.r,{colorScheme:"teal",isChecked:T,onChange:()=>b(!T)})]})}),(0,i.jsxs)(d.e,{children:[console.log("XXXX",s),!T&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.k,{gap:"10px",children:[(0,i.jsxs)(h.NI,{mb:4,children:[i.jsx(x.l,{children:"Select Type:"}),(0,i.jsxs)(u.P,{value:f,onChange:e=>{_(e.target.value)},children:[i.jsx("option",{value:"ONM",children:"ONM"}),i.jsx("option",{value:"Survey",children:"Survey"})]})]}),(0,i.jsxs)(h.NI,{mb:4,children:[(0,i.jsxs)(x.l,{children:[f," Name:"]}),i.jsx(g.I,{type:"text",value:s.questionnaireName,onChange:e=>t({...s,questionnaireName:e.target.value})})]})]}),(0,i.jsxs)(l.k,{justify:"space-between",children:[(0,i.jsxs)(m.g,{spacing:4,w:"48%",children:[i.jsx(o.X,{size:"md",children:"Questions"}),s.questions.map((e,s)=>(0,i.jsxs)(j.xu,{borderWidth:"1px",w:"100%",p:4,borderRadius:"lg",children:[(0,i.jsxs)(h.NI,{mb:2,children:[i.jsx(x.l,{children:"Answer Type:"}),(0,i.jsxs)(u.P,{required:!0,value:e.answerType,onChange:e=>handleQuestionChange(s,"answerType",e.target.value),children:[i.jsx("option",{value:"rating",children:"Rating"}),i.jsx("option",{value:"yesno",children:"Yes/No"}),i.jsx("option",{value:"text",children:"Text"})]})]}),i.jsx(x.l,{children:"Question Text:"}),i.jsx(g.I,{type:"text",required:!0,value:e.questionText,onChange:e=>handleQuestionChange(s,"questionText",e.target.value)}),i.jsx(p.z,{onClick:()=>removeQuestion(s),colorScheme:"red",mt:4,children:"Remove Question"})]},s))]}),(0,i.jsxs)(m.g,{spacing:4,w:"48%",children:[i.jsx(o.X,{size:"md",children:"Images"}),s.images.map((e,s)=>(0,i.jsxs)(j.xu,{borderWidth:"1px",w:"100%",p:4,borderRadius:"md",children:[(0,i.jsxs)(h.NI,{mb:2,children:[i.jsx(x.l,{children:"Image Name:"}),i.jsx(g.I,{type:"text",value:e.imageName,onChange:e=>handleImageChange(s,"imageName",e.target.value)})]}),i.jsx(p.z,{onClick:()=>removeImage(s),colorScheme:"red",mt:4,children:"Remove Image"})]},s))]})]}),i.jsx(S.i,{mt:4}),i.jsx(m.g,{spacing:4,mt:8,children:(0,i.jsxs)("div",{style:{marginTop:"20px",display:"flex",width:"100%",alignItems:"center",justifyContent:"flex-start",gap:"10px"},children:[i.jsx(p.z,{onClick:()=>{t({...s,questions:[...s.questions,{questionText:"",answerType:"rating"}]})},colorScheme:"teal",children:"Add Question"}),i.jsx(p.z,{onClick:()=>{t({...s,images:[...s.images,{imageName:""}]})},colorScheme:"teal",children:"Add Image"}),i.jsx(p.z,{onClick:addQuestionnaire,isLoading:C,colorScheme:"teal",children:"Submit"})]})})]}),T&&i.jsx(j.xu,{children:i.jsx(Components_QuestionnaireDisplay,{})})]})]})}},1763:(e,s,t)=>{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var i=t(30784),n=t(9885),a=t.n(n),r=t(55445),l=t(34301),o=t(42130),c=t(76713),d=t(81748),h=t(4266);let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,s]=a().useState(5),[t,n]=a().useState(!1);return(0,i.jsxs)(r.Z,{children:[i.jsx(l.O,{bg:"teal.500",borderBottomWidth:"1px",borderColor:"teal.600",color:"white",textAlign:"center",padding:"4",children:i.jsx(o.X,{size:"md",textTransform:"uppercase",children:"Set Rates"})}),(0,i.jsxs)(c.e,{children:[(0,i.jsxs)(o.X,{size:"xs",textTransform:"uppercase",children:["Current Rate : ",e,"₹"]}),(0,i.jsxs)(d.iR,{w:"50%",id:"slider",defaultValue:5,min:0,mt:3,max:100,colorScheme:"teal",onChange:e=>s(e),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[i.jsx(d.jz,{value:25,mt:"1",ml:"-2.5",fontSize:"sm",children:"25₹"}),i.jsx(d.jz,{value:50,mt:"1",ml:"-2.5",fontSize:"sm",children:"50₹"}),i.jsx(d.jz,{value:75,mt:"1",ml:"-2.5",fontSize:"sm",children:"75₹"}),i.jsx(d.Uj,{children:i.jsx(d.Ms,{})}),i.jsx(h.u,{hasArrow:!0,bg:"teal.500",color:"white",placement:"top",isOpen:t,label:`${e}₹`,children:i.jsx(d.gs,{})})]})]})]})}}};